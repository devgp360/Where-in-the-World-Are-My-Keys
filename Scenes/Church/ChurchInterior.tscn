[gd_scene load_steps=25 format=3 uid="uid://y5ewa2bdex6r"]

[ext_resource type="Texture2D" uid="uid://8jyneusvwyfb" path="res://Scenes/Church/assets/bg.png" id="1_y3l5a"]
[ext_resource type="Texture2D" uid="uid://bb1dsvigpcmbg" path="res://assets/punto_de_luz.png" id="2_6pl5b"]
[ext_resource type="PackedScene" uid="uid://cw4xeegs5b2fq" path="res://Character/main_character.tscn" id="2_apxtj"]
[ext_resource type="Texture2D" uid="uid://dfmukkpl68rhg" path="res://assets/light.png" id="2_gf1he"]
[ext_resource type="Texture2D" uid="uid://i6qnx1jlmf1r" path="res://Scenes/Church/assets/sillon1.png" id="2_htesh"]
[ext_resource type="Texture2D" uid="uid://cleg71cwik0cy" path="res://Scenes/Church/assets/sillon2.png" id="3_ndhbe"]
[ext_resource type="PackedScene" uid="uid://bkjboqn4xwl7m" path="res://Camera/Camera.tscn" id="3_njxj8"]
[ext_resource type="Texture2D" uid="uid://d0kua2qkjhn52" path="res://Scenes/Church/assets/pasto1.png" id="4_by3qp"]
[ext_resource type="Texture2D" uid="uid://drha2jegeabja" path="res://Scenes/Church/assets/pasto_y_piedra.png" id="5_05d3o"]
[ext_resource type="Texture2D" uid="uid://b5jqiwtcrvjxq" path="res://Scenes/Church/assets/columnas2.png" id="7_seh3k"]
[ext_resource type="Texture2D" uid="uid://c7qgxp647yq7l" path="res://Scenes/Church/assets/columnas.png" id="8_pc2hj"]
[ext_resource type="Texture2D" uid="uid://dvawsi7gs4vn1" path="res://Scenes/Church/assets/columna3.png" id="9_kex6f"]
[ext_resource type="Texture2D" uid="uid://crf46wpruwpyu" path="res://Scenes/Church/assets/elementos.png" id="9_lyeit"]
[ext_resource type="Texture2D" uid="uid://dapbcoft6flmm" path="res://Scenes/Church/assets/columna_y_arbustos.png" id="10_v6fxh"]
[ext_resource type="Shader" path="res://Character/npc_1.gdshader" id="16_w6g0w"]
[ext_resource type="Script" path="res://Scenes/Church/CharMinificado.gd" id="18_pnwtm"]
[ext_resource type="Texture2D" uid="uid://cf0c4dtj2lriq" path="res://assets/Char_min_sprite.png" id="19_tpgt3"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ksial"]
shader = ExtResource("16_w6g0w")
shader_parameter/deform = Vector2(0, 1)
shader_parameter/offset = Vector2(20, 2)
shader_parameter/modulate = Vector4(0, 0, 0, 0.9)
shader_parameter/flipY = false
shader_parameter/opacity = 0.9

[sub_resource type="NavigationPolygon" id="NavigationPolygon_c2d6i"]
vertices = PackedVector2Array(312, 133, 320, 109, 410, 104, 450, 104, 464, 130, 439, 139, 393, 142, 349, 140, -37, 156, -58, 161, -75, 161, -116, 156, -73, 142, -8, 139, 419, 164, 405, 156, 297, 29, 304, 90, 265, 36, -98, 175, -117, 174, 679, 145, 657, 75, 743, 122, -106, 186, -118, 199, -130, 183, 931, 26, 1056, 90, 893, 190, 857, 159, 821, 175, 665, 166, 345, 417, 563, 227, 45, 207, 54, 187, 216, 168, 248, 165, 260, 180, 253, 213, 53, 290, 398, 176, 425, 196, 258, 57, 268, 94, 232, 68, 198, 130, 148, 78, 191, 57, 161, 112, -994, 50, -1074, -133, -1025, -150, -897, -46, -753, -50, -754, -118, -710, -17, -591, -50, -661, 2, -574, 57, -545, 24, -509, 68, -511, 130, -437, 113, -374, 235, -320, 162, -265, 319, -94, 246, 13, 317, -8, 362, -105, 330, -124, 227, 379, 195, 262, 265, 305, 227, 269, 233, -180, 78, -173, 155, -172, 171, 193, 151, 124, 141, 296, 160, 54, 93, 44, 158, 24, 139, 8, 133, -130, 150, -154, 146, -214, 371, -153, 183, -44, 251, 247, 296, 280, 416, 262, 346, 308, 352, 469, 275)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5, 6, 7), PackedInt32Array(8, 9, 10, 11, 12, 13), PackedInt32Array(5, 14, 15, 6), PackedInt32Array(16, 2, 1, 17, 18), PackedInt32Array(11, 10, 19, 20), PackedInt32Array(21, 22, 23), PackedInt32Array(20, 19, 24, 25, 26), PackedInt32Array(27, 28, 29, 30), PackedInt32Array(23, 27, 30, 31), PackedInt32Array(32, 23, 31, 33, 34), PackedInt32Array(35, 36, 37, 38, 39, 40, 41), PackedInt32Array(42, 15, 14, 43), PackedInt32Array(44, 18, 17, 45), PackedInt32Array(46, 44, 45, 47), PackedInt32Array(48, 49, 46, 47, 50), PackedInt32Array(51, 52, 53, 54), PackedInt32Array(55, 51, 54, 56), PackedInt32Array(57, 55, 56, 58, 59), PackedInt32Array(60, 59, 58, 61), PackedInt32Array(60, 61, 62, 63), PackedInt32Array(63, 62, 64, 65), PackedInt32Array(65, 64, 66, 67), PackedInt32Array(68, 69, 70, 71, 72), PackedInt32Array(73, 42, 43), PackedInt32Array(73, 43, 74, 75), PackedInt32Array(76, 75, 74, 41), PackedInt32Array(67, 66, 77, 78, 79), PackedInt32Array(50, 47, 80, 81), PackedInt32Array(0, 7, 82, 38), PackedInt32Array(38, 82, 39), PackedInt32Array(80, 37, 36, 81), PackedInt32Array(83, 81, 36, 84), PackedInt32Array(83, 84, 85), PackedInt32Array(83, 85, 86), PackedInt32Array(12, 83, 86, 13), PackedInt32Array(77, 12, 11, 87), PackedInt32Array(77, 87, 88), PackedInt32Array(77, 88, 78), PackedInt32Array(71, 89, 67, 79, 90, 72), PackedInt32Array(90, 26, 25, 72), PackedInt32Array(69, 68, 91), PackedInt32Array(69, 91, 35, 41), PackedInt32Array(41, 40, 76), PackedInt32Array(41, 74, 92), PackedInt32Array(93, 41, 92, 94), PackedInt32Array(93, 94, 95, 33), PackedInt32Array(33, 95, 96), PackedInt32Array(32, 21, 23), PackedInt32Array(33, 96, 34)])
outlines = Array[PackedVector2Array]([PackedVector2Array(54, 93, 124, 141, 161, 112, 148, 78, 191, 57, 232, 68, 258, 57, 265, 36, 297, 29, 410, 104, 450, 104, 464, 130, 439, 139, 419, 164, 425, 196, 262, 265, 247, 296, 262, 346, 308, 352, 469, 275, 563, 227, 665, 166, 679, 145, 657, 75, 743, 122, 931, 26, 1056, 90, 893, 190, 857, 159, 821, 175, 345, 417, 280, 416, 53, 290, 13, 317, -8, 362, -105, 330, -214, 371, -265, 319, -374, 235, -511, 130, -574, 57, -661, 2, -710, -17, -753, -50, -994, 50, -1074, -133, -1025, -150, -897, -46, -754, -118, -591, -50, -545, 24, -509, 68, -437, 113, -320, 162, -180, 78, -73, 142), PackedVector2Array(198, 130, 268, 94, 304, 90, 320, 109, 312, 133, 248, 165, 216, 168, 193, 151), PackedVector2Array(260, 180, 296, 160, 349, 140, 393, 142, 405, 156, 398, 176, 379, 195, 305, 227, 269, 233, 253, 213), PackedVector2Array(-98, 175, -106, 186, -118, 199, -124, 227, -94, 246, -44, 251, 45, 207, 54, 187, 44, 158, 24, 139, 8, 133, -8, 139, -37, 156, -58, 161, -75, 161), PackedVector2Array(-173, 155, -154, 146, -130, 150, -116, 156, -117, 174, -130, 183, -153, 183, -172, 171)])

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8xp4y"]
shader = ExtResource("16_w6g0w")
shader_parameter/deform = Vector2(0.2, 1)
shader_parameter/offset = Vector2(26, 42)
shader_parameter/modulate = Vector4(0, 0, 0, 0.7)
shader_parameter/flipY = false
shader_parameter/opacity = 0.5

[sub_resource type="Animation" id="Animation_3afal"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../CharacterBody2D/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}

[sub_resource type="Animation" id="Animation_15hbn"]
resource_name = "walk"
length = 0.55
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../CharacterBody2D/Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_wcupg"]
_data = {
"RESET": SubResource("Animation_3afal"),
"walk": SubResource("Animation_15hbn")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_tb5r0"]
radius = 35.0571

[node name="Main" type="Node2D"]

[node name="Fondo" type="Sprite2D" parent="."]
light_mask = 2
z_index = -1
texture = ExtResource("1_y3l5a")

[node name="Luces" type="Node2D" parent="."]

[node name="Sala" type="Node2D" parent="Luces"]

[node name="Luz1" type="PointLight2D" parent="Luces/Sala"]
position = Vector2(156, -625)
scale = Vector2(2.85313, 2.96094)
color = Color(0.466667, 0.443137, 1, 1)
energy = 2.29
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_6pl5b")
texture_scale = 0.4

[node name="Luz2" type="PointLight2D" parent="Luces/Sala"]
visible = false
position = Vector2(43, -131)
scale = Vector2(2.39687, 2.66719)
color = Color(0.909804, 0.929412, 0.968627, 1)
energy = 1.56
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_gf1he")

[node name="Pasillo" type="Node2D" parent="Luces"]
visible = false

[node name="Luz1" type="PointLight2D" parent="Luces/Pasillo"]
position = Vector2(-696, -205)
scale = Vector2(3.03359, 2.88037)
energy = 1.59
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_gf1he")

[node name="Luz2" type="PointLight2D" parent="Luces/Pasillo"]
position = Vector2(-1064, -169)
scale = Vector2(2.38242, 2.11831)
energy = 1.23
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_gf1he")

[node name="Cuarto" type="Node2D" parent="Luces"]
visible = false

[node name="Luz1" type="PointLight2D" parent="Luces/Cuarto"]
position = Vector2(725, -96)
scale = Vector2(2.11875, 2.06719)
energy = 1.47
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_gf1he")

[node name="Luz2" type="PointLight2D" parent="Luces/Cuarto"]
position = Vector2(957, -120)
scale = Vector2(2.11875, 2.06719)
energy = 1.11
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_gf1he")

[node name="ObjetosYPersonaje" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Sillon1" type="Sprite2D" parent="ObjetosYPersonaje"]
y_sort_enabled = true
position = Vector2(257.5, 90)
texture = ExtResource("2_htesh")
offset = Vector2(0, 30)

[node name="Sillon2" type="Sprite2D" parent="ObjetosYPersonaje"]
y_sort_enabled = true
position = Vector2(326.5, 146)
texture = ExtResource("3_ndhbe")
offset = Vector2(0, 30)

[node name="Pasto1" type="Sprite2D" parent="ObjetosYPersonaje"]
y_sort_enabled = true
position = Vector2(377.5, 223.2)
texture = ExtResource("4_by3qp")
offset = Vector2(0, 40)

[node name="PastoYPiedra" type="Sprite2D" parent="ObjetosYPersonaje"]
y_sort_enabled = true
position = Vector2(457.7, 181.8)
texture = ExtResource("5_05d3o")
offset = Vector2(0, -20)

[node name="Columnas2" type="Sprite2D" parent="ObjetosYPersonaje"]
z_index = 1
position = Vector2(147.5, 331.5)
texture = ExtResource("7_seh3k")

[node name="Columnas" type="Sprite2D" parent="ObjetosYPersonaje"]
z_index = 1
position = Vector2(-885.5, -183)
texture = ExtResource("8_pc2hj")

[node name="Elementos" type="Sprite2D" parent="ObjetosYPersonaje"]
z_index = 1
position = Vector2(586.5, 296.5)
texture = ExtResource("9_lyeit")

[node name="Columna3" type="Sprite2D" parent="ObjetosYPersonaje"]
y_sort_enabled = true
position = Vector2(-140.5, 127)
texture = ExtResource("9_kex6f")
offset = Vector2(0, -20)

[node name="ColumnaYArbustos" type="Sprite2D" parent="ObjetosYPersonaje"]
y_sort_enabled = true
position = Vector2(-29.5, 154.5)
texture = ExtResource("10_v6fxh")
offset = Vector2(0, -35)

[node name="MainCharacter" parent="ObjetosYPersonaje" node_paths=PackedStringArray("light_node") instance=ExtResource("2_apxtj")]
material = SubResource("ShaderMaterial_ksial")
position = Vector2(175, 162)
scale = Vector2(0.7, 0.7)
light_node = NodePath("../../Luces/Sala/Luz1")
active_fake_z_axis = true
max_scale = 3.0
max_y = 1000.0

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_c2d6i")

[node name="Camera" parent="." node_paths=PackedStringArray("character") instance=ExtResource("3_njxj8")]
position = Vector2(-257.45, 183.079)
limit_left = -1070
limit_top = -450
limit_right = 1070
limit_bottom = 450
editor_draw_limits = true
character = NodePath("../ObjetosYPersonaje/MainCharacter")

[node name="CharacterBody2D" type="CharacterBody2D" parent="." node_paths=PackedStringArray("light_node")]
visible = false
y_sort_enabled = true
script = ExtResource("18_pnwtm")
light_node = NodePath("../Luces/Sala/Luz1")

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D"]
material = SubResource("ShaderMaterial_8xp4y")
position = Vector2(-283, 39)
texture = ExtResource("19_tpgt3")
hframes = 3
frame = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="CharacterBody2D"]
root_node = NodePath("")
libraries = {
"": SubResource("AnimationLibrary_wcupg")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
visible = false
shape = SubResource("CircleShape2D_tb5r0")
