[gd_scene load_steps=15 format=3 uid="uid://e54w2vv186pc"]

[ext_resource type="Texture2D" uid="uid://dqcsccjqii1g3" path="res://assets/light_15.png" id="2_7p6em"]
[ext_resource type="PackedScene" uid="uid://bkjboqn4xwl7m" path="res://Camera/Camera.tscn" id="2_38pgm"]
[ext_resource type="Texture2D" uid="uid://2k8xgtlbkeqo" path="res://Scenes/Tikal/Assets/Wall.png" id="3_fgkol"]
[ext_resource type="Texture2D" uid="uid://cxsixgx0ekrdr" path="res://Scenes/Tikal/Assets/Stone.png" id="4_kh363"]
[ext_resource type="Texture2D" uid="uid://c5axhk7hpf60u" path="res://Scenes/Tikal/Assets/Harrow.png" id="5_h6ejl"]
[ext_resource type="Texture2D" uid="uid://bodavr3b173r7" path="res://Scenes/Tikal/Assets/Column.png" id="6_8vcb7"]
[ext_resource type="Texture2D" uid="uid://2klthllqfn3e" path="res://Scenes/Tikal/Assets/Back.png" id="7_b468m"]
[ext_resource type="Texture2D" uid="uid://i2gsxlah1hd4" path="res://Scenes/Tikal/Assets/Back2.png" id="8_7j6fc"]
[ext_resource type="PackedScene" uid="uid://cw4xeegs5b2fq" path="res://Character/main_character.tscn" id="9_l8wo7"]
[ext_resource type="Texture2D" uid="uid://bb1dsvigpcmbg" path="res://assets/punto_de_luz.png" id="10_kmahc"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_2eybf"]
vertices = PackedVector2Array(726.86, 2282.23, 785.343, 2706.08, 751.924, 2771.28, 576.475, 2314.84, 543.056, 2151.82, 651.667, 2086.61, 626.603, 1597.56, 685.086, 1695.37, 576.475, 1825.79, 534.701, 1662.77, 534.701, 1564.96, 584.83, 1532.36, -618.249, 3260.33, -837.56, 3423.35, -979.59, 2151.82, -841.737, 1825.79, -1094.47, 1890.99, -893.954, 1695.37, 685.086, 1336.74, 818.762, 1238.93, 835.471, 1369.34, 693.441, 1434.55, 1111.18, 2575.66, 1136.24, 2477.85, 1276.18, 2282.23, 1242.76, 2543.06, 1100.73, 2836.49, 1136.24, 2412.65, 1126.84, 2282.23, 1244.85, 2151.82, 902.309, 2836.49, 1002.57, 2673.47, 985.856, 3064.71, 902.309, 1336.74, 935.728, 1532.36, 1019.27, 1956.2, 1061.05, 1890.99, 1111.18, 1825.79, 1211.43, 1956.2, 142.03, 1695.37, 342.543, 1499.75, 618.249, 2640.87, 540.967, 2640.87, 475.174, 2575.66, 100.257, 1890.99, 835.471, 2673.47, 776.988, 2217.03, 951.392, 2445.25, 926.328, 2543.06, -1061.05, 1369.34, -935.728, 1336.74, -908.575, 1564.96, 1203.08, 3358.14, 1211.43, 3912.4, 451.154, 3879.8, 426.09, 3847.19, 409.381, 3651.57, 409.381, 3358.14, 843.826, 3325.54, 679.258, 1571.88, 726.86, 1760.58, 533.657, 2824.26, 458.465, 2954.67, 384.317, 3260.33, 693.441, 1564.96, -1161.3, 2021.41, -1420.3, 1988.8, -1453.72, 1075.91, -1152.95, 1271.53, -1162.35, 1173.72, -1287.67, 1010.7, -928.417, 1238.93, -1062.09, 945.495, -719.549, 1010.7, 776.988, 1890.99, 1269.92, 1988.8, 944.082, 2608.27, 969.146, 2673.47, 1102.82, 3032.11, 1178.01, 3195.13, 969.146, 3129.92, 340.454, 3129.92, 315.39, 3032.11, 374.917, 2934.3, 240.198, 2771.28, 358.208, 2673.47, 148.296, 2608.27, 75.1924, 2380.04, 125.321, 2282.23, 142.03, 1467.15, -342.543, 1369.34, -527.391, 978.099, -243.331, 847.686, 182.759, 912.892, 284.06, 1271.53, -593.184, 1499.75, -735.215, 1564.96, -869.934, 1532.35)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 7, 8, 9, 10, 11), PackedInt32Array(12, 13, 14, 15), PackedInt32Array(15, 14, 16, 17), PackedInt32Array(18, 19, 20, 21), PackedInt32Array(22, 23, 24, 25, 26), PackedInt32Array(24, 23, 27), PackedInt32Array(24, 27, 28, 29), PackedInt32Array(30, 31, 22, 26, 32), PackedInt32Array(20, 33, 34), PackedInt32Array(35, 36, 37, 38, 29, 28), PackedInt32Array(39, 40, 41, 42, 43, 44), PackedInt32Array(45, 1, 0, 46, 47, 48), PackedInt32Array(49, 50, 51), PackedInt32Array(52, 53, 54, 55, 56, 57, 58), PackedInt32Array(7, 6, 59, 35, 60), PackedInt32Array(61, 42, 41, 58), PackedInt32Array(62, 61, 58, 57, 63), PackedInt32Array(64, 21, 20, 34, 35), PackedInt32Array(65, 66, 67, 16), PackedInt32Array(49, 51, 17, 16, 67, 68), PackedInt32Array(69, 68, 67, 70), PackedInt32Array(71, 69, 70, 72, 73), PackedInt32Array(59, 64, 35), PackedInt32Array(74, 60, 35), PackedInt32Array(46, 74, 35, 28, 47), PackedInt32Array(38, 75, 29), PackedInt32Array(45, 48, 76), PackedInt32Array(45, 76, 77, 30), PackedInt32Array(30, 77, 31), PackedInt32Array(32, 26, 78), PackedInt32Array(32, 78, 79, 80), PackedInt32Array(58, 80, 79, 52), PackedInt32Array(62, 63, 81, 82, 83), PackedInt32Array(83, 82, 84, 85), PackedInt32Array(43, 85, 84, 86, 87, 88), PackedInt32Array(89, 90, 91, 92, 93, 94, 40), PackedInt32Array(90, 95, 96, 97, 71, 73, 91), PackedInt32Array(39, 89, 40), PackedInt32Array(88, 44, 43)])
outlines = Array[PackedVector2Array]([PackedVector2Array(142.03, 1467.15, 142.03, 1695.37, 100.257, 1890.99, 125.321, 2282.23, 75.1924, 2380.04, 148.296, 2608.27, 240.198, 2771.28, 315.39, 3032.11, 340.454, 3129.92, 384.317, 3260.33, 409.381, 3358.14, 409.381, 3651.57, 426.09, 3847.19, 451.154, 3879.8, 1211.43, 3912.4, 1203.08, 3358.14, 1178.01, 3195.13, 1102.82, 3032.11, 1100.73, 2836.49, 1242.76, 2543.06, 1276.18, 2282.23, 1244.85, 2151.82, 1269.92, 1988.8, 1211.43, 1956.2, 1111.18, 1825.79, 1061.05, 1890.99, 1019.27, 1956.2, 935.728, 1532.36, 902.309, 1336.74, 835.471, 1369.34, 818.762, 1238.93, 685.086, 1336.74, 693.441, 1434.55, 693.441, 1564.96, 679.258, 1571.88, 626.603, 1597.56, 584.83, 1532.36, 534.701, 1564.96, 534.701, 1662.77, 576.475, 1825.79, 685.086, 1695.37, 726.86, 1760.58, 776.988, 1890.99, 776.988, 2217.03, 726.86, 2282.23, 651.667, 2086.61, 543.056, 2151.82, 576.475, 2314.84, 751.924, 2771.28, 785.343, 2706.08, 835.471, 2673.47, 902.309, 2836.49, 985.856, 3064.71, 969.146, 3129.92, 843.826, 3325.54, 618.249, 2640.87, 342.543, 1499.75, 284.06, 1271.53, 182.759, 912.892, -243.331, 847.686, -527.391, 978.099, -719.549, 1010.7, -1062.09, 945.495, -1287.67, 1010.7, -1453.72, 1075.91, -1420.3, 1988.8, -1161.3, 2021.41, -1094.47, 1890.99, -979.59, 2151.82, -837.56, 3423.35, -618.249, 3260.33, -841.737, 1825.79, -893.954, 1695.37, -908.575, 1564.96, -935.728, 1336.74, -1061.05, 1369.34, -1152.95, 1271.53, -1162.35, 1173.72, -928.417, 1238.93, -869.934, 1532.35, -735.215, 1564.96, -593.184, 1499.75, -342.543, 1369.34), PackedVector2Array(944.082, 2608.27, 969.146, 2673.47, 1002.57, 2673.47, 1111.18, 2575.66, 1136.24, 2477.85, 1136.24, 2412.65, 1126.84, 2282.23, 951.392, 2445.25, 926.328, 2543.06), PackedVector2Array(358.208, 2673.47, 374.917, 2934.3, 458.465, 2954.67, 533.657, 2824.26, 540.967, 2640.87, 475.174, 2575.66)])

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_4nndj"]
closed = false
polygon = PackedVector2Array(-14.7666, -9.32446, -15.0082, -4.33026, -12.4725, 1.19867, -8.54797, 6.99512, -4.91675, 10.5748, -0.457397, 13.5938)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_7uppo"]
polygon = PackedVector2Array(-24, -16, -23, 10, 16, 9, 21, -75, 64, -73, 63, -96, 20, -93, 18, -125, -10, -128, -7, -92, -51, -95, -51, -74, -12, -74)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_8x4nb"]
vertices = PackedVector2Array(1281, 8, 1753, 840, -423, 944, -719, -128)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-719, -128, -423, 944, 1753, 840, 1281, 8)])

[node name="Main" type="Node2D"]
light_mask = 2

[node name="Sprite2D" type="Sprite2D" parent="."]
light_mask = 2

[node name="Sprite2D2" type="Sprite2D" parent="."]
visible = false

[node name="Luces" type="Node2D" parent="."]
z_index = -1

[node name="PointLight2D" type="PointLight2D" parent="Luces"]
light_mask = 7
visibility_layer = 7
z_index = 10
position = Vector2(517.75, -234.75)
scale = Vector2(3.40156, 3.84219)
color = Color(0.690196, 0.843137, 0.301961, 1)
energy = 13.83
range_z_min = -2024
range_z_max = 2024
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_7p6em")

[node name="PointLight2D4" type="PointLight2D" parent="Luces"]
visible = false
position = Vector2(586, -90)
energy = 3.31
range_z_min = -2024
range_z_max = 2024
shadow_enabled = true
texture = ExtResource("10_kmahc")

[node name="PointLight2D5" type="PointLight2D" parent="Luces"]
visible = false
position = Vector2(-735, -515)
energy = 3.31
range_z_min = -4024
range_z_max = 4024
range_layer_max = 10
shadow_enabled = true
shadow_filter = 1
texture = ExtResource("10_kmahc")

[node name="PointLight2D2" type="PointLight2D" parent="Luces"]
visible = false
position = Vector2(1198, -460)
energy = 3.31
range_z_min = -2024
range_z_max = 2024
shadow_enabled = true
texture = ExtResource("2_7p6em")

[node name="PointLight2D3" type="PointLight2D" parent="Luces"]
z_index = -1
position = Vector2(1059, 75)
scale = Vector2(1.42154, 1.33527)
color = Color(0.839216, 0.933333, 0.286275, 1)
energy = 2.96
range_z_min = 0
range_z_max = 0
range_item_cull_mask = 2
shadow_enabled = true
texture = ExtResource("2_7p6em")

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="Luces"]
visible = false
energy = 0.54
shadow_enabled = true
shadow_color = Color(0.321569, 0.32549, 1, 0)

[node name="Camera" parent="." node_paths=PackedStringArray("character") instance=ExtResource("2_38pgm")]
limit_left = -1700
limit_top = -600
limit_right = 1700
limit_bottom = 600
editor_draw_limits = true
character = NodePath("../Objects/MainCharacter")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
position = Vector2(-71, -334)
scale = Vector2(0.957544, 0.245374)
navigation_polygon = SubResource("NavigationPolygon_2eybf")

[node name="Objects" type="Node2D" parent="."]
light_mask = 2
y_sort_enabled = true

[node name="Wall" type="Sprite2D" parent="Objects"]
y_sort_enabled = true
position = Vector2(1072, 349)
scale = Vector2(0.95, 0.95)
texture = ExtResource("3_fgkol")
offset = Vector2(0, -50)

[node name="Stone" type="Sprite2D" parent="Objects"]
y_sort_enabled = true
position = Vector2(904, 229)
scale = Vector2(0.93, 1)
texture = ExtResource("4_kh363")
offset = Vector2(0, 20)

[node name="Harrow" type="Sprite2D" parent="Objects"]
y_sort_enabled = true
position = Vector2(798, 358)
scale = Vector2(0.93, 1)
texture = ExtResource("5_h6ejl")

[node name="Column" type="Sprite2D" parent="Objects"]
y_sort_enabled = true
position = Vector2(314, 257)
scale = Vector2(0.93, 1)
texture = ExtResource("6_8vcb7")
offset = Vector2(0, -150)

[node name="Back" type="Sprite2D" parent="Objects"]
y_sort_enabled = true
position = Vector2(-1177, -39)
scale = Vector2(0.93, 0.93)
texture = ExtResource("7_b468m")
offset = Vector2(0, -110)

[node name="Back2" type="Sprite2D" parent="Objects"]
z_index = 1
y_sort_enabled = true
position = Vector2(-361, -146)
scale = Vector2(0.93, 1)
texture = ExtResource("8_7j6fc")

[node name="MainCharacter" parent="Objects" instance=ExtResource("9_l8wo7")]
light_mask = 2
position = Vector2(673, 47)

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Objects/MainCharacter"]
light_mask = 3
rotation = -0.975639
occluder = SubResource("OccluderPolygon2D_4nndj")
occluder_light_mask = 3

[node name="LightOccluder2D3" type="LightOccluder2D" parent="Objects/MainCharacter"]
visible = false
occluder = SubResource("OccluderPolygon2D_7uppo")

[node name="NavigationRegion2D2" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_8x4nb")
enabled = false
